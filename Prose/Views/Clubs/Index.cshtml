@model Prose.Models.ClubViewModels.ClubIndexViewModel

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Clubs[0].Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Clubs[0].Location)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Clubs[0].Description)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Clubs[0].MeetingFrequency)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model.Clubs) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Location)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Description)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.MeetingFrequency)
            </td>
            @*Create a constraint that limits these abilities to only the user that has created the club, and an if statement for those who are in the club to be able to see only the club details*@
            <td>
                <a asp-action="Details" asp-route-id="@item.ClubId">Club Details</a>
                @if(item.UserId == Model.CurrentUserId)
                {
                    <a asp-action="Edit" asp-route-id="@item.ClubId">Edit</a>
                    <a asp-action="Delete" asp-route-id="@item.ClubId">Delete</a> 
                }
            </td>
        </tr>
}
    </tbody>
</table>
